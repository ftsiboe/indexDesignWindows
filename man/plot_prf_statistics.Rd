% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_prf_statistics.R
\name{plot_prf_statistics}
\alias{plot_prf_statistics}
\title{Plot PRF Summary Statistics on the Official Grid}
\usage{
plot_prf_statistics(
  data,
  outcome_variable,
  plot_title,
  prf_polygon = NULL,
  disaggregate_variable = NULL,
  spatial_unit = "prf_grid",
  palette = c("#FEF9C5", "#FFC425", "#FEF389", "#E7F2B4", "#D7E5C8", "#C5DE91",
    "#BED73B", "#A0BD78", "#00583D", "#0F374B"),
  na.value = "white"
)
}
\arguments{
\item{data}{A data frame containing at least \code{grid_id} and the variable
specified in \code{outcome_variable}. If \code{disaggregate_variable} is
used, it must also be present in \code{data}.}

\item{outcome_variable}{Character scalar giving the name of the variable in
\code{data} to map (e.g., a binned category such as \code{"mean_cat"}).}

\item{plot_title}{Character scalar used as the main plot title.}

\item{prf_polygon}{Optional \code{sf} object containing PRF grid polygons
with a \code{grid_id} column. If \code{NULL}, the function calls
\code{get_official_prf_polygon()}.}

\item{disaggregate_variable}{Optional character scalar giving the name of a
column in \code{data} used for faceting (e.g., \code{"disaggregate"} or
\code{"source"}). If \code{NULL}, no facets are drawn.}

\item{palette}{Character vector of hex color codes used for the fill scale.
The default is a 10-color sequential/diverging palette tailored to PRF maps.}
}
\value{
A \code{ggplot} object representing the PRF statistics map, optionally with
facets by \code{disaggregate_variable}.
}
\description{
Creates a choropleth map of Pasture, Rangeland, Forage (PRF) statistics on
the official PRF grid. Optionally facets the map by a disaggregate variable
(e.g., data source: Official vs. Study Approximation).
}
\details{
The function:
\enumerate{
\item Loads the official PRF grid polygons via
\code{get_official_prf_polygon()} if \code{prf_polygon} is not supplied.
\item Filters PRF polygons to those with \code{grid_id} present in \code{data}.
\item Transforms the PRF polygons to match the CRS of the state boundaries
from \code{urbnmapr::get_urbn_map(map = "states")}.
\item Joins \code{data} to the PRF polygons by \code{grid_id}.
\item Filters out rows with missing values in \code{outcome_variable}.
\item Plots a choropleth map using the supplied \code{palette}, overlaying
U.S. state boundaries (excluding Alaska and Hawaii; FIPS 2 and 15).
\item Optionally facets the plot by \code{disaggregate_variable}, with two
columns of panels.
}

The function assumes that \code{data} contains a column named \code{grid_id}
matching the PRF grid IDs, and a column whose name is given by
\code{outcome_variable}. When \code{disaggregate_variable} is provided, it
should also be a column in \code{data}.
}
\examples{
\dontrun{
p <- plot_prf_statistics(
  data               = df,
  outcome_variable   = "mean_cat",
  plot_title         = "PRF Index Mean (2016-2024)",
  disaggregate_variable = "disaggregate"
)
print(p)
}

}
